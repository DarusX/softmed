{"version":3,"file":"dhtmlxscheduler_year_view.js","sources":["dhtmlxscheduler_year_view.js"],"names":["scheduler","config","year_x","year_y","xy","year_top","templates","year_date","date","date_to_str","locale","labels","year_tab","year_month","year_scale_date","year_tooltip","s","e","ev","text","is_year_mode","_mode","dblclick_dhx_month_head","t","target","srcElement","className","_getClassName","parentNode","indexOf","monthNode","hasAttribute","start","this","xml_date","getAttribute","setDate","parseInt","innerHTML","end","add","readonly","dblclick_create","addEventNow","valueOf","chid","changeEventId","apply","arguments","year_view","old","render_data","to_attr","from_attr","str_to_date","evs","i","length","_year_render_event","clear","clear_view","dates","_year_marked_cells","div","hasOwnProperty","setAttribute","_hideToolTip","_tooltip","style","display","Date","_showToolTip","pos","src","document","createElement","body","appendChild","onclick","_click","dhx_cal_data","getEvents","html","filter_event","id","bg_color","color","textColor","_timed","event_date","start_date","end_date","top","offsetWidth","left","offsetHeight","_year_view_tooltip_handler","event","tagName","toLowerCase","$domHelpers","getOffset","_init_year_tooltip","_detachDomEvent","_els","dhtmlxEvent","attachEvent","_get_year_cell","d","m","getMonth","getFullYear","_min_date","week_starts","_month","childNodes","getDate","querySelector","firstChild","rows","Math","floor","cells","_mark_year_date","c","ev_class","event_class","_unmark_year_date","date_part","_max_date","mode","temp","scale_height","set_sizes","_table_view","_load_mode","_load","_reset_year_scale","_render_wait","render_view_data","_cols","_colsS","b","scrollTop","dx","width","dy","height","scroll_width","summ","week_template","dummy_date","week_start","_currentDate","_process_ignores","scales_count","_ignores_detected","real_count","_ignores","_render_x_header","lastChild","_waiAria","yearHeadCell","sd","copy","_date","ssd","j","cssText","xml_format","header","grid","weekHeader","headerId","uid","yearHeader","yearGrid","dd","days","_reset_month_scale","querySelectorAll","day","yearDayCell","dt","round","marginTop","set_xy","getDay","start_on_monday","getActionData","n_ev","trg","_get_year_month_date","_get_year_month_cell","_get_year_day_indexes","week","section","targetCell","month","_get_year_el_node","_locate_year_month_table","weeks","w","getElementsByTagName","node","_locate_year_month_root","month_start","_locate_year_month_day","n","locateEvent","_locate_event","dat","_locate_year_month_cell","nodeName","_get_year_month_table","_get_year_month_root","condition"],"mappings":"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"}